# Post Exploitation and Privilege Escalation

### Reverse Shell in DVWA

* Find a reverse shell to use

Since the DVWA is written in PHP, we will have to use a PHP based reverse shell. The first result after a Google search [is the pentestingmonkey revrse shell])(https://github.com/pentestmonkey/php-reverse-shell).

We will need to clone the repo:
![Screenshot 2022-03-10 164630](https://user-images.githubusercontent.com/19424915/157690757-aef2721f-d59c-472a-a9e0-e4defd4cd045.png)

* Adjust the Reverse Shell to match our demands

We will first need to find out the attack machine (Kali) IP address:
![Screenshot 2022-03-10 165807](https://user-images.githubusercontent.com/19424915/157691425-980327f4-cce9-4bd3-b674-0f64511ece2f.png)

Then, we can edit the revese shell code with our IP address and the port we will be listening to:
![Screenshot 2022-03-10 171526](https://user-images.githubusercontent.com/19424915/157692165-ca94d8d0-1a7c-4b69-8af7-3c3e25ed6d3b.png)

* Acheive Reverse Shell

We need to start a netcat instace on our attack machine which is going to listent to the port we have already specified in the Reverse Shell code - in our case "12345".
![Screenshot 2022-03-10 172410](https://user-images.githubusercontent.com/19424915/157695024-a57e8bdf-d0b3-484f-8da1-2f4cf17ffc84.png)

Once we have a listener up and ready we can upload and start the Reverse Shell.
![Screenshot 2022-03-10 172219](https://user-images.githubusercontent.com/19424915/157695200-99dd92b1-26fc-4fe6-8bb5-3cbc7a66a602.png)
![Screenshot 2022-03-10 172443](https://user-images.githubusercontent.com/19424915/157695224-d5e75372-c7a0-4c0a-8eaa-8927eb50b030.png)

As a result, we acheive remote access to the atacked machine (DVWA) terminal.
![Screenshot 2022-03-10 172505](https://user-images.githubusercontent.com/19424915/157695658-6ac33e32-d544-488f-a1d2-327bb03c730c.png)
